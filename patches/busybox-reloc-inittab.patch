Support static relocation of /etc/inittab

(c) 2014 by Guenther Brunthaler.
This patch is free software.
Distribution is permitted under the terms of the GPLv3.

Index: busybox-1.21.0/init/init.c
===================================================================
--- busybox-1.21.0.orig/init/init.c	2013-01-14 18:04:27.000000000 +0100
+++ busybox-1.21.0/init/init.c	2014-11-04 22:49:37.906006882 +0100
@@ -28,6 +28,17 @@
 //config:	help
 //config:	  Allow init to read an inittab file when the system boot.
 //config:
+//config:config INITTAB_LOCATION_23J9JCQH4QWSFNCURF9A1L06B
+//config:	string "Location of inittab file"
+//config:	default "/etc/inittab"
+//config:	depends on FEATURE_USE_INITTAB
+//config:	help
+//config:	  This is the location where init actually reads its inittab from.
+//config:
+//config:	  Specifying a non-standard location here allows Busybox's init to
+//config:	  co-exist with other init implementations using a different
+//config:	  inittab at the standard location (/etc/inittab).
+//config:
 //config:config FEATURE_KILL_REMOVED
 //config:	bool "Support killing processes that have been removed from inittab"
 //config:	default n
@@ -648,8 +659,9 @@
 static void parse_inittab(void)
 {
 #if ENABLE_FEATURE_USE_INITTAB
+# define INITTAB_PATH CONFIG_INITTAB_LOCATION_23J9JCQH4QWSFNCURF9A1L06B
 	char *token[4];
-	parser_t *parser = config_open2("/etc/inittab", fopen_for_read);
+	parser_t *parser = config_open2(INITTAB_PATH, fopen_for_read);
 
 	if (parser == NULL)
 #endif
@@ -898,7 +910,7 @@
 {
 	struct init_action *a, **nextp;
 
-	message(L_LOG, "reloading /etc/inittab");
+	message(L_LOG, "reloading " INITTAB_PATH);
 
 	/* Disable old entries */
 	for (a = init_action_list; a; a = a->next)
